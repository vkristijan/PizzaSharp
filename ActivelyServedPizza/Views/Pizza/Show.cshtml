@using PizzaSharp.Models
@model Pizza

@{
ViewData["Title"] = "Pizza details";
}

<head>
    <!-- Custom CSS -->
    <link href="~/css/shop-item.css" rel="stylesheet">
</head>


<!-- Page Content -->
<div class="row">
    <div class="col-md-10 col-md-offset-1">
        <div class="thumbnail">
            <img class="img-responsive" src="~/images/photo1.jpg" alt="">
            <div class="caption-full">
                <h4 class="pull-right">@Model.PriceMedium kn<sup>*</sup></h4>
                <div class="text-right">
                    <a class="btn btn-success">Dodaj<span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
                </div>
                <h4>
                    <a href="#">@Model.Name</a>
                    <p>
                        Ingredients:
                        <br />

                        @{bool isFirst = true;}
                        @foreach (var ingredient in Model.Ingredients)
                        {
                            if (!isFirst)
                            {
                                <span>, @ingredient.Name</span>
                            }
                            else
                            {
                                <span>@ingredient.Name</span>
                                isFirst = false;
                            }
                        }
                    </p>
                </h4>
            </div>
            <div class="ratings">
                <p class="pull-right">@Model.CommentCount() Comments</p>
                <p>
                    @for (int i = 0; i < Model.GetRating(); i++)
                    {
                        <span class="glyphicon glyphicon-star"></span>
                    }

                    @for (int i = 5 - Model.GetRating(); i > 0; i--)
                    {
                        <span class="glyphicon glyphicon-star-empty"></span>
                    }
                    @Model.GetRating()  
                </p>
            </div>
        </div>
        <div class="well">
            <div class="text-right">
                <a class="btn btn-success">Komentiraj</a>
            </div>
            <div class="text-right">
                <a class="btn btn-success">Ocijeni</a>
            </div>
            <div>
            @foreach (var comment in Model.Comments)
            {
                @Html.Partial("../Comment/CommentShow", comment)
            }           
            </div>
        </div>
    </div>
</div>